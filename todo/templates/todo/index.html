{% extends "todo/base.html" %}
{% block content %}
<div class="table-responsive panel-body todolist" id="todolist">
	<table class="table table-striped" id="todotable">
		<thead>
			<tr>
				<th><button type="button" class="btn btn-sm glyphbutton" id="sortcompleted"><span class="glyphicon glyphicon-sort"></span></button></th>
				<th><button type="button" class="btn btn-sm glyphbutton" id="sorttitle"><span class="glyphicon glyphicon-sort"></span></button> Title</th>
				<th><button type="button" class="btn btn-sm glyphbutton" id="sortduedate"><span class="glyphicon glyphicon-sort"></span></button> Due Date</th>
				<th><button type="button" class="btn btn-sm glyphbutton" id="sortpriority"><span class="glyphicon glyphicon-sort"></span></button> Priority</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			<tr class="todoitem" id="addnewitem">
				<td class="completed"></td>
				<td class="title"><input type="text" id="newtitle" placeholder="New todo item"></td>
				<td class="duedate"><input type="text" class="datepicker" id="newduedate"></td>
				<td class="priority">
					<select id="newpriority">
						<option value="5">Lowest</option>
						<option value="4">Low</option>
						<option value="3"selected>Medium</option>
						<option value="2">High</option>
						<option value="1">Highest</option>
					</select>
				</td>
				<td class="addbutton"><button type="button" class="btn btn-primary">Add</button></td>
			</tr>
		</tbody>
		<tbody id="todotbody">
			<script id="todoitem-template" type="text/template">
				<td class="completed"><input type="checkbox"<%= completed ? "checked" : "" %>></td>
				<td class="title"><input type="text" value="<%= title %>" class="view" <%= completed ? "disabled=true" : "" %>></td>
				<td class="duedate"><input type="text" class="view datepicker" value="<%= due_date %>" <%= completed ? "disabled=true" : "" %>></td>
				<td class="priority"><select class="priority" class="view" <%= completed ? "disabled=true" : "" %>>
					<option value="5"<% if (priority == "5") { %> selected<% } %>>Lowest</option>
					<option value="4"<% if (priority == "4") { %> selected<% } %>>Low</option>
					<option value="3"<% if (priority == "3") { %> selected<% } %>>Medium</option>
					<option value="2"<% if (priority == "2") { %> selected<% } %>>High</option>
					<option value="1"<% if (priority == "1") { %> selected<% } %>>Highest</option>
				</select></td>
				<td><button type="button" class="removeitem btn btn-danger btn-xs">Remove</button></td>
			</script>
		</tbody>
	</table>
</div>
<div class="panel-footer">
	<p><small>{{ username }}, you can also access the API using your API key:</small> <code>{{ api_key }}</code></p>
</div>
{% endblock %}